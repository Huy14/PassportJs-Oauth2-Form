<%- include('partials/header.ejs') %>
<section class="form__login">
  <h1>Log In</h1>
  <form action="/auth/login" method="post">
    <!-- POPUP MESSAGE -->
    <% if (typeof messages !== 'undefined') { %> 
      <% messages.forEach(message => { %> 
        <% if (typeof message.data !== 'undefined') { %>
            <p class="<%= message.type === 'success' ? 'success' : 'error' %>"> <%= message.data %> </p>
        <% } %> 
      <% }) %> 
    <% } %>

    <!-- FORM INPUTS -->
    <div class="form__group">
      <label for="username">Username</label>
      <input
        autocomplete="off"
        type="text"
        placeholder="Enter your username"
        name="username"
        id="username"
        value="<%= username = typeof username === 'undefined' ? '' : username  %>"
      />
      <% if (typeof alert !=="undefined" && alert.username) { %>
      <small> <%= alert.username.msg %> </small>
      <% } %>
    </div>

    <div class="form__group">
      <label for="password">Password</label>
      <input
        type="password"
        placeholder="Enter your password"
        name="password"
        id="password"
      />
      <% if (typeof alert !=="undefined" && alert.password) { %>
      <small> <%= alert.password.msg %> </small>
      <% } %>
    </div>

    <div class="form__group">
      <a href="/auth/forgot-password" class="form__password--reset"
        >Forgot Password?</a
      >
      <button type="submit" class="btn btn__form--login">Log In</button>
    </div>

    <div class="form__group">
      <div class="btn__extra">
        <div class="google-btn">
          <div class="google-icon-wrapper">
            <img
              class="google-icon"
              src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"
            />
          </div>
          <a href="/auth/google/" class="btn-text"
            ><b>Sign in with google</b></a
          >
        </div>

        <div class="github-btn">
          <div class="github-icon-wrapper">
            <img
              class="github-icon"
              src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"
            />
          </div>
          <a href="/auth/github/" class="btn-text"
            ><b>Sign in with github</b></a
          >
        </div>
      </div>
    </div>

    <div class="form__group">
      <p>Not a member? <a href="/auth/register">Sign Up</a></p>
    </div>
  </form>
</section>
<%- include('partials/footer.ejs') %>
